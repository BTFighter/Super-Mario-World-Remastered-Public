[gd_scene load_steps=14 format=3 uid="uid://c5pn4jk82g7nr"]

[ext_resource type="Script" path="res://Scripts/Classes/LevelClass.gd" id="1_ym0xu"]
[ext_resource type="PackedScene" uid="uid://c1xol3wby2j0k" path="res://Instances/Prefabs/level_bg.tscn" id="2_3lhnm"]
[ext_resource type="AudioStream" uid="uid://cwraguncjdkmy" path="res://Resources/MusicTracks/Overworld.tres" id="2_n6a6t"]
[ext_resource type="Texture2D" uid="uid://7kikbr4s27w5" path="res://Assets/Sprites/Backgrounds/Overworld/Rocks/Rock7.png" id="4_7rpj4"]
[ext_resource type="PackedScene" uid="uid://cqw1qs0bt5s4o" path="res://Instances/Prefabs/Player.tscn" id="5_h3q13"]
[ext_resource type="PackedScene" uid="uid://dwavjbyw0v12l" path="res://Instances/Prefabs/tile_map.tscn" id="7_cu55j"]
[ext_resource type="PackedScene" uid="uid://cly5f6jt1cd28" path="res://Instances/Prefabs/Interactables/pipe_area.tscn" id="10_2hciw"]
[ext_resource type="Texture2D" uid="uid://bppymefot6iwp" path="res://Assets/LevelGuides/CI2G.png" id="10_ccdun"]
[ext_resource type="PackedScene" uid="uid://c8kxuerbuqk7p" path="res://Instances/Prefabs/goal_post.tscn" id="11_1qkm0"]
[ext_resource type="PackedScene" uid="uid://ml34rtr34fvj" path="res://Instances/Prefabs/HeldObjects/spring.tscn" id="12_epqgd"]
[ext_resource type="PackedScene" uid="uid://e5n5ff0onet5" path="res://Instances/Prefabs/Enemies/rex.tscn" id="13_wayu2"]

[sub_resource type="Shader" id="Shader_1xk88"]
code = "// HSV to RBG from https://www.rapidtables.com/convert/color/hsv-to-rgb.html
// Rotation matrix from https://en.wikipedia.org/wiki/Rotation_matrix

shader_type canvas_item;


uniform float strength: hint_range(0., 1.) = 0.5;
uniform float speed: hint_range(0., 10.) = 0.5;
uniform float angle: hint_range(0., 360.) = 0.;

void fragment() {
	float hue = UV.x * cos(radians(angle)) - UV.y * sin(radians(angle));
	hue = fract(hue + fract(TIME  * speed));
	float x = 1. - abs(mod(hue / (1./ 6.), 2.) - 1.);
	vec3 rainbow;
	if(hue < 1./6.){
		rainbow = vec3(1., x, 0.);
	} else if (hue < 1./3.) {
		rainbow = vec3(x, 1., 0);
	} else if (hue < 0.5) {
		rainbow = vec3(0, 1., x);
	} else if (hue < 2./3.) {
		rainbow = vec3(0., x, 1.);
	} else if (hue < 5./6.) {
		rainbow = vec3(x, 0., 1.);
	} else {
		rainbow = vec3(1., 0., x);
	}
	vec4 color = texture(TEXTURE, UV);
	COLOR = mix(color, vec4(rainbow, color.a), strength);
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_36y1i"]
resource_local_to_scene = true
shader = SubResource("Shader_1xk88")
shader_parameter/strength = 0.0
shader_parameter/speed = 0.5
shader_parameter/angle = 36.404

[node name="CI2G" type="Node"]
script = ExtResource("1_ym0xu")
level_music = ExtResource("2_n6a6t")

[node name="LevelBG" parent="." instance=ExtResource("2_3lhnm")]
main_texture = ExtResource("4_7rpj4")
sky_colour = Color(0.596078, 0.878431, 0.878431, 1)

[node name="Player" parent="." instance=ExtResource("5_h3q13")]
material = SubResource("ShaderMaterial_36y1i")

[node name="TileMap" parent="." instance=ExtResource("7_cu55j")]
layer_0/tile_data = PackedInt32Array(-2359331, 917504, 12, -2359330, 983040, 12, 131067, 524288, 1, 131068, 393216, 1, 131069, 655360, 0, 131070, 655360, 0, 131071, 655360, 0, 65536, 655360, 0, 65537, 655360, 0, 65538, 655360, 0, 65539, 655360, 0, 65540, 655360, 0, 65541, 655360, 0, 65542, 655360, 0, 65543, 720896, 0, 196603, 524288, 1, 196604, 589824, 2, 196605, 589824, 2, 196606, 589824, 2, 196607, 589824, 2, 131072, 589824, 2, 131073, 589824, 2, 131074, 589824, 2, 131075, 589824, 2, 131076, 589824, 2, 131077, 589824, 2, 131078, 589824, 2, 131079, 720896, 2, 262139, 524288, 1, 262140, 589824, 2, 262141, 589824, 2, 262142, 589824, 2, 262143, 589824, 2, 196608, 589824, 2, 196609, 589824, 2, 196610, 589824, 2, 196611, 589824, 2, 196612, 589824, 2, 196613, 589824, 2, 196614, 589824, 2, 196615, 720896, 2, 327675, 524288, 3, 327676, 589824, 3, 327677, 589824, 3, 327678, 589824, 3, 327679, 589824, 3, 262144, 589824, 3, 262145, 589824, 3, 262146, 589824, 3, 262147, 589824, 3, 262148, 589824, 3, 262149, 589824, 3, 262150, 589824, 3, 262151, 720896, 3, -1507333, 524288, 0, -1507332, 720896, 0, -1441797, 524288, 1, -1441796, 720896, 2, -1376261, 524288, 1, -1376260, 720896, 2, -1310725, 524288, 1, -1310724, 720896, 2, -1245189, 524288, 1, -1245188, 720896, 2, -1179653, 524288, 1, -1179652, 720896, 2, -1114117, 524288, 1, -1114116, 720896, 2, -1048581, 524288, 1, -1048580, 720896, 2, -983045, 524288, 1, -983044, 720896, 2, -917509, 524288, 1, -917508, 720896, 2, -851973, 524288, 1, -851972, 720896, 2, -786437, 524288, 1, -786436, 720896, 2, -720901, 524288, 1, -720900, 720896, 2, -655365, 524288, 1, -655364, 720896, 2, -589829, 524288, 1, -589828, 720896, 2, -524293, 524288, 1, -524292, 720896, 2, -458757, 524288, 1, -458756, 720896, 2, -393221, 524288, 1, -393220, 720896, 2, -327685, 524288, 1, -327684, 720896, 2, -262149, 524288, 1, -262148, 720896, 2, -196613, 524288, 1, -196612, 720896, 2, -131077, 524288, 1, -131076, 720896, 2, -65541, 524288, 1, -65540, 720896, 2, -5, 524288, 1, -4, 131077, 2, 65531, 524288, 1, 65532, 131077, 3, 65554, 524288, 0, 65555, 655360, 0, 65556, 655360, 0, 65557, 655360, 0, 65558, 655360, 0, 65559, 655360, 0, 65560, 655360, 0, 65561, 655360, 0, 65562, 655360, 0, 65563, 655360, 0, 65564, 655360, 0, 65565, 655360, 0, 65566, 655360, 0, 65567, 655360, 0, 65568, 655360, 0, 65569, 655360, 0, 65570, 655360, 0, 65571, 655360, 0, 65572, 655360, 0, 65573, 655360, 0, 65574, 655360, 0, 65575, 655360, 0, 65576, 655360, 0, 65577, 655360, 0, 65578, 655360, 0, 65579, 655360, 0, 65580, 655360, 0, 65581, 655360, 0, 65582, 655360, 0, 65583, 655360, 0, 65584, 655360, 0, 65585, 655360, 0, 65586, 655360, 0, 65587, 655360, 0, 65588, 655360, 0, 65589, 655360, 0, 65590, 655360, 0, 65591, 655360, 0, 65592, 655360, 0, 65593, 655360, 0, 65594, 655360, 0, 65595, 655360, 0, 65596, 655360, 0, 131090, 524288, 1, 131091, 589824, 2, 131092, 589824, 2, 131093, 589824, 2, 131094, 589824, 2, 131095, 589824, 2, 131096, 589824, 2, 131097, 589824, 2, 131098, 589824, 2, 131099, 589824, 2, 131100, 589824, 2, 131101, 589824, 2, 131102, 589824, 2, 131103, 589824, 2, 131104, 589824, 2, 131105, 589824, 2, 131106, 589824, 2, 131107, 589824, 2, 131108, 589824, 2, 131109, 589824, 2, 131110, 589824, 2, 131111, 589824, 2, 131112, 589824, 2, 131113, 589824, 2, 131114, 589824, 2, 131115, 589824, 2, 131116, 589824, 2, 131117, 589824, 2, 131118, 589824, 2, 131119, 589824, 2, 131120, 589824, 2, 131121, 589824, 2, 131122, 589824, 2, 131123, 589824, 2, 131124, 589824, 2, 131125, 589824, 2, 131126, 589824, 2, 131127, 589824, 2, 131128, 589824, 2, 131129, 589824, 2, 131130, 589824, 2, 131131, 589824, 2, 131132, 589824, 2, 196626, 524288, 1, 196627, 589824, 2, 196628, 589824, 2, 196629, 589824, 2, 196630, 589824, 2, 196631, 589824, 2, 196632, 589824, 2, 196633, 589824, 2, 196634, 589824, 2, 196635, 589824, 2, 196636, 589824, 2, 196637, 589824, 2, 196638, 589824, 2, 196639, 589824, 2, 196640, 589824, 2, 196641, 589824, 2, 196642, 589824, 2, 196643, 589824, 2, 196644, 589824, 2, 196645, 589824, 2, 196646, 589824, 2, 196647, 589824, 2, 196648, 589824, 2, 196649, 589824, 2, 196650, 589824, 2, 196651, 589824, 2, 196652, 589824, 2, 196653, 589824, 2, 196654, 589824, 2, 196655, 589824, 2, 196656, 589824, 2, 196657, 589824, 2, 196658, 589824, 2, 196659, 589824, 2, 196660, 589824, 2, 196661, 589824, 2, 196662, 589824, 2, 196663, 589824, 2, 196664, 589824, 2, 196665, 589824, 2, 196666, 589824, 2, 196667, 589824, 2, 196668, 589824, 2, 262162, 524288, 3, 262163, 589824, 3, 262164, 589824, 3, 262165, 589824, 3, 262166, 589824, 3, 262167, 589824, 3, 262168, 589824, 3, 262169, 589824, 3, 262170, 589824, 3, 262171, 589824, 3, 262172, 589824, 3, 262173, 589824, 3, 262174, 589824, 3, 262175, 589824, 3, 262176, 589824, 3, 262177, 589824, 3, 262178, 589824, 3, 262179, 589824, 3, 262180, 589824, 3, 262181, 589824, 3, 262182, 589824, 3, 262183, 589824, 3, 262184, 589824, 3, 262185, 589824, 3, 262186, 589824, 3, 262187, 589824, 3, 262188, 589824, 3, 262189, 589824, 3, 262190, 589824, 3, 262191, 589824, 3, 262192, 589824, 3, 262193, 589824, 3, 262194, 589824, 3, 262195, 589824, 3, 262196, 589824, 3, 262197, 589824, 3, 262198, 589824, 3, 262199, 589824, 3, 262200, 589824, 3, 262201, 589824, 3, 262202, 589824, 3, 262203, 589824, 3, 262204, 589824, 3, 65597, 655360, 0, 65598, 655360, 0, 65599, 655360, 0, 65600, 655360, 0, 65601, 655360, 0, 65602, 655360, 0, 65603, 655360, 0, 65604, 655360, 0, 65605, 655360, 0, 65606, 655360, 0, 65607, 655360, 0, 65608, 655360, 0, 65609, 655360, 0, 65610, 720896, 0, 131133, 589824, 2, 131134, 589824, 2, 131135, 589824, 2, 131136, 589824, 2, 131137, 589824, 2, 131138, 589824, 2, 131139, 589824, 2, 131140, 589824, 2, 131141, 589824, 2, 131142, 589824, 2, 131143, 589824, 2, 131144, 589824, 2, 131145, 589824, 2, 131146, 720896, 2, 196669, 589824, 2, 196670, 589824, 2, 196671, 589824, 2, 196672, 589824, 2, 196673, 589824, 2, 196674, 589824, 2, 196675, 589824, 2, 196676, 589824, 2, 196677, 589824, 2, 196678, 589824, 2, 196679, 589824, 2, 196680, 589824, 2, 196681, 589824, 2, 196682, 720896, 2, 262205, 589824, 3, 262206, 589824, 3, 262207, 589824, 3, 262208, 589824, 3, 262209, 589824, 3, 262210, 589824, 3, 262211, 589824, 3, 262212, 589824, 3, 262213, 589824, 3, 262214, 589824, 3, 262215, 589824, 3, 262216, 589824, 3, 262217, 589824, 3, 262218, 720896, 3, 131082, 65544, 0, 196618, 65544, 0, 262154, 65544, 0, -3, 196613, 2, 65533, 196613, 3)
layer_1/tile_data = PackedInt32Array(-65517, 65537, 0, -65516, 131073, 0, -65515, 131073, 0, -65514, 131073, 0, -65513, 131073, 0, -65512, 131073, 0, -65511, 131073, 0, -65510, 131073, 0, -65509, 131073, 0, -65508, 131073, 0, -65507, 131073, 0, -65506, 131073, 0, -65505, 131073, 0, -65504, 131073, 0, -65503, 131073, 0, -65502, 196609, 0, 19, 65537, 1, 20, 131073, 1, 21, 131073, 1, 22, 131073, 1, 23, 131073, 1, 24, 131073, 1, 25, 131073, 1, 26, 131073, 1, 27, 131073, 1, 28, 131073, 1, 29, 131073, 1, 30, 131073, 1, 31, 131073, 1, 32, 131073, 1, 33, 131073, 1, 34, 196609, 1, 65555, 65537, 2, 65556, 131073, 2, 65557, 131073, 2, 65558, 131073, 2, 65559, 131073, 2, 65560, 131073, 2, 65561, 131073, 2, 65562, 131073, 2, 65563, 131073, 2, 65564, 131073, 2, 65565, 131073, 2, 65566, 131073, 2, 65567, 131073, 2, 65568, 131073, 2, 65569, 131073, 2, 65570, 196609, 2)
layer_2/tile_data = PackedInt32Array(-196588, 65537, 0, -196587, 131073, 0, -196586, 131073, 0, -196585, 131073, 0, -196584, 131073, 0, -196583, 131073, 0, -196582, 131073, 0, -196581, 131073, 0, -196580, 131073, 0, -196579, 131073, 0, -196578, 131073, 0, -196577, 131073, 0, -196576, 131073, 0, -196575, 196609, 0, -131052, 65537, 1, -131051, 131073, 1, -131050, 131073, 1, -131049, 131073, 1, -131048, 131073, 1, -131047, 131073, 1, -131046, 131073, 1, -131045, 131073, 1, -131044, 131073, 1, -131043, 131073, 1, -131042, 131073, 1, -131041, 131073, 1, -131040, 131073, 1, -131039, 196609, 1, -65516, 65537, 1, -65515, 131073, 1, -65514, 131073, 1, -65513, 131073, 1, -65512, 131073, 1, -65511, 131073, 1, -65510, 131073, 1, -65509, 131073, 1, -65508, 131073, 1, -65507, 131073, 1, -65506, 131073, 1, -65505, 131073, 1, -65504, 131073, 1, -65503, 196609, 1, 20, 65537, 1, 21, 131073, 1, 22, 131073, 1, 23, 131073, 1, 24, 131073, 1, 25, 131073, 1, 26, 131073, 1, 27, 131073, 1, 28, 131073, 1, 29, 131073, 1, 30, 131073, 1, 31, 131073, 1, 32, 131073, 1, 33, 196609, 1, 65556, 65537, 2, 65557, 131073, 2, 65558, 131073, 2, 65559, 131073, 2, 65560, 131073, 2, 65561, 131073, 2, 65562, 131073, 2, 65563, 131073, 2, 65564, 131073, 2, 65565, 131073, 2, 65566, 131073, 2, 65567, 131073, 2, 65568, 131073, 2, 65569, 196609, 2)
layer_3/tile_data = PackedInt32Array(-327659, 65537, 0, -327658, 131073, 0, -327657, 131073, 0, -327656, 131073, 0, -327655, 131073, 0, -327654, 131073, 0, -327653, 131073, 0, -327652, 131073, 0, -327651, 131073, 0, -327650, 131073, 0, -327649, 131073, 0, -327648, 196609, 0, -262123, 65537, 1, -262122, 131073, 1, -262121, 131073, 1, -262120, 131073, 1, -262119, 131073, 1, -262118, 131073, 1, -262117, 131073, 1, -262116, 131073, 1, -262115, 131073, 1, -262114, 131073, 1, -262113, 131073, 1, -262112, 196609, 1, -196587, 65537, 2, -196586, 131073, 2, -196585, 131073, 2, -196584, 131073, 2, -196583, 131073, 2, -196582, 131073, 2, -196581, 131073, 2, -196580, 131073, 2, -196579, 131073, 2, -196578, 131073, 2, -196577, 131073, 2, -196576, 196609, 2)
layer_4/tile_data = PackedInt32Array(-458730, 65537, 0, -458729, 131073, 0, -458728, 131073, 0, -458727, 131073, 0, -458726, 131073, 0, -458725, 131073, 0, -458724, 131073, 0, -458723, 131073, 0, -458722, 131073, 0, -458721, 196609, 0, -393194, 65537, 1, -393193, 131073, 1, -393192, 131073, 1, -393191, 131073, 1, -393190, 131073, 1, -393189, 131073, 1, -393188, 131073, 1, -393187, 131073, 1, -393186, 131073, 1, -393185, 196609, 1, -327658, 65537, 2, -327657, 131073, 2, -327656, 131073, 2, -327655, 131073, 2, -327654, 131073, 2, -327653, 131073, 2, -327652, 131073, 2, -327651, 131073, 2, -327650, 131073, 2, -327649, 196609, 2)

[node name="Ci2g" type="Sprite2D" parent="."]
visible = false
modulate = Color(0.306923, 0.306923, 0.306923, 1)
position = Vector2(448, -168)
texture = ExtResource("10_ccdun")

[node name="GoalPost" parent="." instance=ExtResource("11_1qkm0")]
position = Vector2(680, 16)

[node name="Spring" parent="." instance=ExtResource("12_epqgd")]
position = Vector2(168, 32)

[node name="Rex" parent="." instance=ExtResource("13_wayu2")]
position = Vector2(408, 16)

[node name="Rex2" parent="." instance=ExtResource("13_wayu2")]
position = Vector2(416, -16)

[node name="Rex3" parent="." instance=ExtResource("13_wayu2")]
position = Vector2(408, -48)

[node name="Rex4" parent="." instance=ExtResource("13_wayu2")]
position = Vector2(416, -80)

[node name="Rex5" parent="." instance=ExtResource("13_wayu2")]
position = Vector2(408, -112)

[node name="Rex6" parent="." instance=ExtResource("13_wayu2")]
position = Vector2(472, -112)

[node name="Rex7" parent="." instance=ExtResource("13_wayu2")]
position = Vector2(448, -80)

[node name="PipeArea" parent="." instance=ExtResource("10_2hciw")]
position = Vector2(-32, 0)
enter_direction = "Left"
exit_only = true
