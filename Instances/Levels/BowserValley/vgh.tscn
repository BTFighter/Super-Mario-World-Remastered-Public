[gd_scene load_steps=20 format=3 uid="uid://q6rt0ckq0s2n"]

[ext_resource type="Script" path="res://Scripts/Classes/LevelClass.gd" id="1_84qot"]
[ext_resource type="PackedScene" uid="uid://c1xol3wby2j0k" path="res://Instances/Prefabs/level_bg.tscn" id="2_2pkqt"]
[ext_resource type="AudioStream" uid="uid://d2mfwfapwilqw" path="res://Resources/MusicTracks/GhostHouse.tres" id="2_7c48l"]
[ext_resource type="Texture2D" uid="uid://dqywkvt5ta4sg" path="res://Assets/Sprites/Backgrounds/GhostHouse/BG4.png" id="4_guymc"]
[ext_resource type="PackedScene" uid="uid://cqw1qs0bt5s4o" path="res://Instances/Prefabs/Player.tscn" id="5_osdpl"]
[ext_resource type="PackedScene" uid="uid://dwavjbyw0v12l" path="res://Instances/Prefabs/tile_map.tscn" id="7_4rb8u"]
[ext_resource type="PackedScene" uid="uid://3dbp1bh377er" path="res://Instances/Prefabs/Blocks/question_block.tscn" id="9_4joex"]
[ext_resource type="Texture2D" uid="uid://cmxmxeit0phtv" path="res://Assets/LevelGuides/Level 114.png" id="10_gv4k5"]
[ext_resource type="PackedScene" uid="uid://c308cugamvq8a" path="res://Instances/Prefabs/Items/fire_flower.tscn" id="10_q64rc"]
[ext_resource type="PackedScene" uid="uid://uad2ip1uxnmd" path="res://Instances/Prefabs/Enemies/gas_bubble.tscn" id="11_82gw6"]
[ext_resource type="PackedScene" uid="uid://nldepcgj07xt" path="res://Instances/Prefabs/Items/dragon_coin.tscn" id="11_kwgu2"]
[ext_resource type="PackedScene" uid="uid://d3ay6d00er3ko" path="res://Instances/Prefabs/Interactables/door.tscn" id="12_wv5ir"]

[sub_resource type="AtlasTexture" id="AtlasTexture_6g613"]
atlas = ExtResource("4_guymc")
region = Rect2(0, 0, 512, 432)

[sub_resource type="AtlasTexture" id="AtlasTexture_15s5m"]
atlas = ExtResource("4_guymc")
region = Rect2(512, 0, 512, 432)

[sub_resource type="AtlasTexture" id="AtlasTexture_b0l5u"]
atlas = ExtResource("4_guymc")
region = Rect2(1024, 0, 512, 432)

[sub_resource type="AtlasTexture" id="AtlasTexture_rxuiq"]
atlas = ExtResource("4_guymc")
region = Rect2(1536, 0, 512, 432)

[sub_resource type="SpriteFrames" id="SpriteFrames_eng0s"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_6g613")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_15s5m")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_b0l5u")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_rxuiq")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="Shader" id="Shader_1xk88"]
code = "// HSV to RBG from https://www.rapidtables.com/convert/color/hsv-to-rgb.html
// Rotation matrix from https://en.wikipedia.org/wiki/Rotation_matrix

shader_type canvas_item;


uniform float strength: hint_range(0., 1.) = 0.5;
uniform float speed: hint_range(0., 10.) = 0.5;
uniform float angle: hint_range(0., 360.) = 0.;

void fragment() {
	float hue = UV.x * cos(radians(angle)) - UV.y * sin(radians(angle));
	hue = fract(hue + fract(TIME  * speed));
	float x = 1. - abs(mod(hue / (1./ 6.), 2.) - 1.);
	vec3 rainbow;
	if(hue < 1./6.){
		rainbow = vec3(1., x, 0.);
	} else if (hue < 1./3.) {
		rainbow = vec3(x, 1., 0);
	} else if (hue < 0.5) {
		rainbow = vec3(0, 1., x);
	} else if (hue < 2./3.) {
		rainbow = vec3(0., x, 1.);
	} else if (hue < 5./6.) {
		rainbow = vec3(x, 0., 1.);
	} else {
		rainbow = vec3(1., 0., x);
	}
	vec4 color = texture(TEXTURE, UV);
	COLOR = mix(color, vec4(rainbow, color.a), strength);
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_wws0g"]
resource_local_to_scene = true
shader = SubResource("Shader_1xk88")
shader_parameter/strength = 0.0
shader_parameter/speed = 0.5
shader_parameter/angle = 36.404

[node name="VGH" type="Node"]
script = ExtResource("1_84qot")
level_music = ExtResource("2_7c48l")
camera_left_end_position = 1008
camera_top_end_position = -384

[node name="LevelBG" parent="." instance=ExtResource("2_2pkqt")]
modulate = Color(0.633757, 0.633757, 0.633757, 1)
main_sprite_frames = SubResource("SpriteFrames_eng0s")
sky_colour = Color(1, 1, 1, 1)

[node name="Player" parent="." instance=ExtResource("5_osdpl")]
material = SubResource("ShaderMaterial_wws0g")
position = Vector2(-40, -16)

[node name="TileMap" parent="." instance=ExtResource("7_4rb8u")]
layer_0/tile_data = PackedInt32Array(-4, 11, 0, -3, 65547, 0, -65533, 65547, 0, -65532, 131083, 0, -262136, 11, 0, -262135, 65547, 0, -262133, 65547, 0, -262132, 131083, 0, 24, 11, 0, 25, 65547, 0, 26, 131083, 0, -131042, 11, 0, -131041, 65547, 0, -131040, 131083, 0, -65500, 11, 0, -65499, 65547, 0, -65498, 65547, 0, -65497, 131083, 0, -196564, 11, 0, -196563, 65547, 0, -196551, 65547, 0, -196550, 131083, 0, -196562, 65547, 0, -196561, 65547, 0, -196560, 65547, 0, -196559, 65547, 0, -196558, 65547, 0, -196557, 65547, 0, -196556, 65547, 0, -196555, 65547, 0, -196554, 65547, 0, -196553, 65547, 0, -196552, 65547, 0, -262127, 11, 0, -262126, 65547, 0, -262125, 131083, 0, -262134, 65547, 0, -2, 65547, 0, -1, 65547, 0, -65536, 65547, 0, -65535, 65547, 0, -65534, 65547, 0, 0, 327691, 0, 65536, 327691, 1, -196598, 327691, 0, -131062, 327691, 1, -196590, 327691, 0, -131054, 327691, 1, 65561, 327691, 0, 131097, 327691, 1, -65505, 327691, 0, 31, 327691, 1, 38, 327691, 0, 65574, 327691, 1, -131026, 327691, 0, -65490, 327691, 1, 46, 327691, 1, 65582, 327691, 1, 131118, 327691, 1, 131110, 327691, 1, 65567, 327691, 1, 131103, 327691, 1, -65518, 327691, 1, 18, 327691, 1, 65554, 327691, 1, 131090, 327691, 1, -65526, 327691, 1, 10, 327691, 1, 65546, 327691, 1, 131082, 327691, 1, 131072, 327691, 1, -131067, 262155, 0, -65531, 262155, 1, -196602, 262155, 0, -131066, 262155, 1, -262137, 262155, 0, -196601, 262155, 1, -262124, 196619, 0, -196588, 196619, 1, -196587, 196619, 0, -131051, 196619, 1, -131050, 196619, 0, -65514, 196619, 1, -65513, 196619, 0, 23, 196619, 1, -655301, 11, 1, -655300, 65547, 1, -589765, 11, 1, -589764, 65547, 1, -524229, 11, 1, -524228, 65547, 1, -458693, 11, 1, -458692, 65547, 1, -393157, 11, 1, -393156, 65547, 1, -327621, 11, 1, -327620, 65547, 1, -262085, 11, 1, -262084, 65547, 1, -196549, 11, 1, -196548, 65547, 1, -131013, 11, 1, -131012, 65547, 1, -65477, 11, 1, -65476, 65547, 1, 59, 11, 1, 60, 65547, 1, 65595, 11, 1, 65596, 65547, 1, 131131, 11, 1, 131132, 65547, 1, -1572805, 11, 1, -1572804, 65547, 1, -1507269, 11, 1, -1507268, 65547, 1, -1441733, 11, 1, -1441732, 65547, 1, -1376197, 11, 1, -1376196, 65547, 1, -1310661, 11, 1, -1310660, 65547, 1, -1245125, 11, 1, -1245124, 65547, 1, -1179589, 11, 1, -1179588, 65547, 1, -1114053, 11, 1, -1114052, 65547, 1, -1048517, 11, 1, -1048516, 65547, 1, -982981, 11, 1, -982980, 65547, 1, -917445, 11, 1, -917444, 65547, 1, -851909, 11, 1, -851908, 65547, 1, -786373, 11, 1, -786372, 65547, 1, -720837, 11, 1, -720836, 65547, 1, -1310659, 262155, 2, -1245123, 262155, 2, -1179587, 262155, 2, -1114051, 262155, 2, -1048515, 262155, 2, -982979, 262155, 2, -917443, 262155, 2, -851907, 262155, 2, -786371, 262155, 2, -720835, 262155, 2, -655299, 262155, 2, -589763, 262155, 2, -524227, 262155, 2, -458691, 262155, 2, -393155, 262155, 2, -327619, 262155, 2, -262083, 262155, 2, -196547, 262155, 2, -131011, 262155, 2, -65475, 262155, 2, 61, 262155, 2, 65597, 262155, 2, 131133, 262155, 2, -1310658, 262155, 2, -1245122, 262155, 2, -1179586, 262155, 2, -1114050, 262155, 2, -1048514, 262155, 2, -982978, 262155, 2, -917442, 262155, 2, -851906, 262155, 2, -786370, 262155, 2, -720834, 262155, 2, -655298, 262155, 2, -589762, 262155, 2, -524226, 262155, 2, -458690, 262155, 2, -393154, 262155, 2, -327618, 262155, 2, -262082, 262155, 2, -196546, 262155, 2, -131010, 262155, 2, -65474, 262155, 2, 62, 262155, 2, 65598, 262155, 2, 131134, 262155, 2, -1310657, 262155, 2, -1245121, 262155, 2, -1179585, 262155, 2, -1114049, 262155, 2, -1048513, 262155, 2, -982977, 262155, 2, -917441, 262155, 2, -851905, 262155, 2, -786369, 262155, 2, -720833, 262155, 2, -655297, 262155, 2, -589761, 262155, 2, -524225, 262155, 2, -458689, 262155, 2, -393153, 262155, 2, -327617, 262155, 2, -262081, 262155, 2, -196545, 262155, 2, -131009, 262155, 2, -65473, 262155, 2, 63, 262155, 2, 65599, 262155, 2, 131135, 262155, 2, -1310656, 262155, 2, -1245120, 262155, 2, -1179584, 262155, 2, -1114048, 262155, 2, -1048512, 262155, 2, -982976, 262155, 2, -917440, 262155, 2, -851904, 262155, 2, -786368, 262155, 2, -720832, 262155, 2, -655296, 262155, 2, -589760, 262155, 2, -524224, 262155, 2, -458688, 262155, 2, -393152, 262155, 2, -327616, 262155, 2, -262080, 262155, 2, -196544, 262155, 2, -131008, 262155, 2, -65472, 262155, 2, 64, 262155, 2, 65600, 262155, 2, 131136, 262155, 2, -1310655, 262155, 2, -1245119, 262155, 2, -1179583, 262155, 2, -1114047, 262155, 2, -1048511, 262155, 2, -982975, 262155, 2, -917439, 262155, 2, -851903, 262155, 2, -786367, 262155, 2, -720831, 262155, 2, -655295, 262155, 2, -589759, 262155, 2, -524223, 262155, 2, -458687, 262155, 2, -393151, 262155, 2, -327615, 262155, 2, -262079, 262155, 2, -196543, 262155, 2, -131007, 262155, 2, -65471, 262155, 2, 65, 262155, 2, 65601, 262155, 2, 131137, 262155, 2, -1310654, 262155, 2, -1245118, 262155, 2, -1179582, 262155, 2, -1114046, 262155, 2, -1048510, 262155, 2, -982974, 262155, 2, -917438, 262155, 2, -851902, 262155, 2, -786366, 262155, 2, -720830, 262155, 2, -655294, 262155, 2, -589758, 262155, 2, -524222, 262155, 2, -458686, 262155, 2, -393150, 262155, 2, -327614, 262155, 2, -262078, 262155, 2, -196542, 262155, 2, -131006, 262155, 2, -65470, 262155, 2, 66, 262155, 2, 65602, 262155, 2, 131138, 262155, 2, -1310653, 262155, 2, -1245117, 262155, 2, -1179581, 262155, 2, -1114045, 262155, 2, -1048509, 262155, 2, -982973, 262155, 2, -917437, 262155, 2, -851901, 262155, 2, -786365, 262155, 2, -720829, 262155, 2, -655293, 262155, 2, -589757, 262155, 2, -524221, 262155, 2, -458685, 262155, 2, -393149, 262155, 2, -327613, 262155, 2, -262077, 262155, 2, -196541, 262155, 2, -131005, 262155, 2, -65469, 262155, 2, 67, 262155, 2, 65603, 262155, 2, 131139, 262155, 2, -1310652, 262155, 2, -1245116, 262155, 2, -1179580, 262155, 2, -1114044, 262155, 2, -1048508, 262155, 2, -982972, 262155, 2, -917436, 262155, 2, -851900, 262155, 2, -786364, 262155, 2, -720828, 262155, 2, -655292, 262155, 2, -589756, 262155, 2, -524220, 262155, 2, -458684, 262155, 2, -393148, 262155, 2, -327612, 262155, 2, -262076, 262155, 2, -196540, 262155, 2, -131004, 262155, 2, -65468, 262155, 2, 68, 262155, 2, 65604, 262155, 2, 131140, 262155, 2, -1310651, 262155, 2, -1245115, 262155, 2, -1179579, 262155, 2, -1114043, 262155, 2, -1048507, 262155, 2, -982971, 262155, 2, -917435, 262155, 2, -851899, 262155, 2, -786363, 262155, 2, -720827, 262155, 2, -655291, 262155, 2, -589755, 262155, 2, -524219, 262155, 2, -458683, 262155, 2, -393147, 262155, 2, -327611, 262155, 2, -262075, 262155, 2, -196539, 262155, 2, -131003, 262155, 2, -65467, 262155, 2, 69, 262155, 2, 65605, 262155, 2, 131141, 262155, 2, -1310650, 262155, 2, -1245114, 262155, 2, -1179578, 262155, 2, -1114042, 262155, 2, -1048506, 262155, 2, -982970, 262155, 2, -917434, 262155, 2, -851898, 262155, 2, -786362, 262155, 2, -720826, 262155, 2, -655290, 262155, 2, -589754, 262155, 2, -524218, 262155, 2, -458682, 262155, 2, -393146, 262155, 2, -327610, 262155, 2, -262074, 262155, 2, -196538, 262155, 2, -131002, 262155, 2, -65466, 262155, 2, 70, 262155, 2, 65606, 262155, 2, 131142, 262155, 2, -1310649, 262155, 2, -1245113, 262155, 2, -1179577, 262155, 2, -1114041, 262155, 2, -1048505, 262155, 2, -982969, 262155, 2, -917433, 262155, 2, -851897, 262155, 2, -786361, 262155, 2, -720825, 262155, 2, -655289, 262155, 2, -589753, 262155, 2, -524217, 262155, 2, -458681, 262155, 2, -393145, 262155, 2, -327609, 262155, 2, -262073, 262155, 2, -196537, 262155, 2, -131001, 262155, 2, -65465, 262155, 2, 71, 262155, 2, 65607, 262155, 2, 131143, 262155, 2, -1310648, 262155, 2, -1245112, 262155, 2, -1179576, 262155, 2, -1114040, 262155, 2, -1048504, 262155, 2, -982968, 262155, 2, -917432, 262155, 2, -851896, 262155, 2, -786360, 262155, 2, -720824, 262155, 2, -655288, 262155, 2, -589752, 262155, 2, -524216, 262155, 2, -458680, 262155, 2, -393144, 262155, 2, -327608, 262155, 2, -262072, 262155, 2, -196536, 262155, 2, -131000, 262155, 2, -65464, 262155, 2, 72, 262155, 2, 65608, 262155, 2, 131144, 262155, 2, -1310647, 262155, 2, -1245111, 262155, 2, -1179575, 262155, 2, -1114039, 262155, 2, -1048503, 262155, 2, -982967, 262155, 2, -917431, 262155, 2, -851895, 262155, 2, -786359, 262155, 2, -720823, 262155, 2, -655287, 262155, 2, -589751, 262155, 2, -524215, 262155, 2, -458679, 262155, 2, -393143, 262155, 2, -327607, 262155, 2, -262071, 262155, 2, -196535, 262155, 2, -130999, 262155, 2, -65463, 262155, 2, 73, 262155, 2, 65609, 262155, 2, 131145, 262155, 2, -1310646, 262155, 2, -1245110, 262155, 2, -1179574, 262155, 2, -1114038, 262155, 2, -1048502, 262155, 2, -982966, 262155, 2, -917430, 262155, 2, -851894, 262155, 2, -786358, 262155, 2, -720822, 262155, 2, -655286, 262155, 2, -589750, 262155, 2, -524214, 262155, 2, -458678, 262155, 2, -393142, 262155, 2, -327606, 262155, 2, -262070, 262155, 2, -196534, 262155, 2, -130998, 262155, 2, -65462, 262155, 2, 74, 262155, 2, 65610, 262155, 2, 131146, 262155, 2, -1310645, 262155, 2, -1245109, 262155, 2, -1179573, 262155, 2, -1114037, 262155, 2, -1048501, 262155, 2, -982965, 262155, 2, -917429, 262155, 2, -851893, 262155, 2, -786357, 262155, 2, -720821, 262155, 2, -655285, 262155, 2, -589749, 262155, 2, -524213, 262155, 2, -458677, 262155, 2, -393141, 262155, 2, -327605, 262155, 2, -262069, 262155, 2, -196533, 262155, 2, -130997, 262155, 2, -65461, 262155, 2, 75, 262155, 2, 65611, 262155, 2, 131147, 262155, 2, -1572803, 262155, 2, -1507267, 262155, 2, -1441731, 262155, 2, -1376195, 262155, 2, -1572802, 262155, 2, -1507266, 262155, 2, -1441730, 262155, 2, -1376194, 262155, 2, -1572801, 262155, 2, -1507265, 262155, 2, -1441729, 262155, 2, -1376193, 262155, 2, -1572800, 262155, 2, -1507264, 262155, 2, -1441728, 262155, 2, -1376192, 262155, 2, -1572799, 262155, 2, -1507263, 262155, 2, -1441727, 262155, 2, -1376191, 262155, 2, -1572798, 262155, 2, -1507262, 262155, 2, -1441726, 262155, 2, -1376190, 262155, 2, -1572797, 262155, 2, -1507261, 262155, 2, -1441725, 262155, 2, -1376189, 262155, 2, -1572796, 262155, 2, -1507260, 262155, 2, -1441724, 262155, 2, -1376188, 262155, 2, -1572795, 262155, 2, -1507259, 262155, 2, -1441723, 262155, 2, -1376187, 262155, 2, -1572794, 262155, 2, -1507258, 262155, 2, -1441722, 262155, 2, -1376186, 262155, 2, -1572793, 262155, 2, -1507257, 262155, 2, -1441721, 262155, 2, -1376185, 262155, 2, -1572792, 262155, 2, -1507256, 262155, 2, -1441720, 262155, 2, -1376184, 262155, 2, -1572791, 262155, 2, -1507255, 262155, 2, -1441719, 262155, 2, -1376183, 262155, 2, -1572790, 262155, 2, -1507254, 262155, 2, -1441718, 262155, 2, -1376182, 262155, 2, -1572789, 262155, 2, -1507253, 262155, 2, -1441717, 262155, 2, -1376181, 262155, 2, -196600, 393227, 2, -196599, 458763, 2, -131063, 458763, 3, 2, 393227, 268435458, 1, 458763, 268435458, 65537, 458763, 268435459, -131024, 393227, 268435458, -131025, 458763, 268435458, -65489, 458763, 268435459, -393189, 15, 196608, -393188, 15, 196608, -393187, 15, 196608, -393182, 15, 196608, -458717, 15, 196608, -393180, 15, 196608, -589810, 15, 196608, -589808, 15, 196608)

[node name="LevelGuide" type="Sprite2D" parent="."]
modulate = Color(0.505344, 0.505344, 0.505344, 1)
z_index = -10
position = Vector2(-64, -384)
texture = ExtResource("10_gv4k5")
centered = false

[node name="GasBubble" parent="." instance=ExtResource("11_82gw6")]
position = Vector2(296, -64)

[node name="GasBubble2" parent="." instance=ExtResource("11_82gw6")]
position = Vector2(424, -48)

[node name="GasBubble3" parent="." instance=ExtResource("11_82gw6")]
position = Vector2(600, -48)

[node name="GasBubble4" parent="." instance=ExtResource("11_82gw6")]
position = Vector2(792, -64)

[node name="?Block" parent="." instance=ExtResource("9_4joex")]
position = Vector2(168, -120)
item = ExtResource("10_q64rc")

[node name="DragonCoin" parent="." instance=ExtResource("11_kwgu2")]
position = Vector2(248, -144)

[node name="Door" parent="." instance=ExtResource("12_wv5ir")]
position = Vector2(936, -48)
level_scene = "res://Instances/Levels/BowserValley/vgha.tscn"
